---
Owner: Nikita Vdovin
---
## Что такое материализованное представление?
Материализованное представление в контексте СУБД - это представление, которое хранит не только SQL-запрос, но и результат этого запроса. Это позволяет ускорить получение данных, так как не требуется повторно выполнять сложные запросы каждый раз, когда требуется доступ к данным.
В контексте ClickHouse, материализованные представления используются для оптимизации работы с данными. Они позволяют создавать предварительно вычисленные представления данных, что ускоряет обработку запросов. Как правило, они используются для агрегации данных, кэширования сложных запросов или предварительного вычисления результатов запросов.

## Что показывает Альберт
Создаем через Create materialised view.
Через select прописываем поля. Откуда?
В SETTINGS указываем то, куда данные польются.
Показывает поля на видео. Поля той таблицы, куда перелились данные. И подробно рассказывает про поля таблицы.

## Вопросы

1. Что можно использовать внутри запроса (подзапросы и пр.)?  
    Все работает хорошо, кроме  
    **REPLACE**.
2. Тригер вешается на таблицу в **FROM**?  
    Да. Но на одну таблицу можно создать несколько таблиц.  
3. Сталкивался ли с ошибками во время написания?  
    Нет, ошибок не было.  
4. Что по производительности? Можно ли положить сервер БД с помощью этого дела?  
    При неоптимальном распределении нагрузки сервер, действительно, может упасть.  
## Дополнения
Нужно быть аккуратнее с ними, потому что если что-то где-то сломается, записи в принципе вестись не будут.
Также, если есть какая-то агрегация, то пересчет будет идти не для всей таблицы, а для агрегированного куска данных